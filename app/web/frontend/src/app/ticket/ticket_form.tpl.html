<section class="panel">
    <header class="panel-heading">
        <h4 class="modal-title">
            <[ 'TICKET_NEW' | translate ]>
        </h4>
    </header>
    <div class="panel-body">
        <div class="col-md-12">
            <form name="vm.form.ticket_form" class="form-horizontal"
                  ng-submit="vm.save()"
                  novalidate>

                <div class="form-group">
                    <label><[ 'TICKET_TITLE' | translate ]></label>
                    <input class="form-control"
                           data-ng-class="{'error': vm.form.ticket_form.title.$invalid && vm.submitted}"
                           autocomplete="off"
                           placeholder="Title" data-ng-model="vm.ticket.title"
                           name="title" type="text" required>
                    <label class="error"
                           data-ng-show="vm.form.ticket_form.title.$invalid && vm.submitted"><['TICKET_TITLE_ERROR']></label>
                </div>
                <div class="form-group">
                    <label><[ 'TICKET_DESCRIPTION' | translate ]></label>
                    <textarea class="form-control" rows="3"
                              name="description"
                              data-ng-model="vm.ticket.description"></textarea>
                </div>
                <div class="form-group">
                    <label><[ 'TICKET_LABELS' | translate ]></label>
                    <tags-input ng-model="vm.labels"
                                replace-spaces-with-dashes="false"
                                placeholder="Add Label"></tags-input>
                </div>
                <div class="form-group" ng-if="vm.project.project_type == 'S'">
                    <label><[ 'TICKET_POINTS' | translate ]></label>
                    <input class="form-control"
                           autocomplete="off"
                           placeholder="Points" data-ng-model="vm.ticket.points"
                           name="points" type="text">
                </div>
                <div class="form-group">
                    <label><[ 'TICKET_TYPE' | translate ]></label>
                    <select class="form-control"
                            data-ng-model="vm.ticket.type"
                            name="type"
                            ng-options="t.value as t.name for t in vm.types">
                    </select>
                </div>
                <div class="form-group" ng-if="vm.is_scrumm()">
                    <label><[ 'TICKET_SPRINT' | translate ]></label>
                    <select class="form-control"
                            data-ng-model="vm.ticket.sprint"
                            name="sprint"
                            ng-options="s.name for s in vm.sprints track by s._id.$oid">
                        <option value=""><[ 'TICKET_CHOOSE_SPRINT' | translate ]></option>
                    </select>
                </div>

                <button class="btn btn-primary"
                        type="submit"><[ 'TICKET_SAVE' | translate ]>
                </button>
                <button class="btn btn-warning" type="button"
                        data-ng-click="vm.cancel();"><[ 'TICKET_CANCEL' | translate ]>
                </button>

            </form>
        </div>
    </div>
</section>